{% extends 'template.html' %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">

    <button type="button" id="sidebarCollapse" class="btn btn-primary">
      <i class="fa fa-bars"></i>
      <span class="sr-only">Toggle Menu</span>
    </button>
    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fa fa-bars"></i>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="nav navbar-nav ml-auto">
        <li class="nav-item">
            <a class="nav-link" href="{{url_for('home.users')}}">Users</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Add</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Edit</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
{% endblock %}

{% block header %} User List {% endblock %}

{% block body %}
<div class='table-responsive'>
  <table class='table table-sm table-hover text-center'>
    <thead style='background-color: #f8b739;'>
      <tr>
        <td> REALNAME </td>
        <td> USERNAME </td>
        <td> ROLE </td>
        <td> ACTION </td>
    </thead>
    <tbody>
    {% for user in users.items %}
      <tr>
        <td> {{user.real_name | pascal_case}} </td>
        <td> {{user.user_name}} </td>
        <td> {{user.user_role.name}} </td>
      {% if user.user_name == current_user.user_name %}
        <td>
          <button aria-disabled='true' class='btn btn-sm btn-warning disabled'>
            <a href='#'> EDIT </a>
          </button>
          <button aria-disabled='true' class='btn btn-sm btn-danger disabled'>
            <a href='#'> DELETE </a>
          </button>
        </td>
      {% else %}
        <td>
          <a href='#' class='btn btn-sm btn-warning'> EDIT </a>
          <a href='#' class='btn btn-sm btn-danger'> DELETE </a>
        </td>
      {% endif %}
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
